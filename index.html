<!DOCTYPE html>
<html lang="id">
<head>
Â Â Â Â <meta charset="UTF-8">
Â Â Â Â <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â Â Â Â <title>FinSmart Manager</title>
Â Â Â Â <script src="https://cdn.tailwindcss.com"></script>
Â Â Â Â <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
Â Â Â Â <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
Â Â Â Â <style>
Â Â Â Â Â Â Â Â body { background: #000; color: #fff; font-family: 'Inter', sans-serif; }
Â Â Â Â Â Â Â Â .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
Â Â Â Â Â Â Â Â .card-top { background: #1a1a1a; height: 100px; border-radius: 15px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
Â Â Â Â </style>
</head>
<body class="p-6 pb-28">

Â Â Â Â <h1 class="text-center font-bold text-sm mb-8 tracking-widest">FinSmart Manager</h1>

Â Â Â Â <div class="grid grid-cols-1 gap-4 mb-4">
Â Â Â Â Â Â Â Â <div class="card-top"><p class="text-[9px] text-gray-400 uppercase">Pemasukan</p><p id="totalIn" class="text-white font-bold">Rp 0</p></div>
Â Â Â Â </div>
Â Â Â Â <div class="grid grid-cols-2 gap-4 mb-8">
Â Â Â Â Â Â Â Â <div class="card-top"><p class="text-[9px] text-gray-400 uppercase">Terpakai</p><p id="totalOut" class="text-red-500 font-bold">Rp 0</p></div>
Â Â Â Â Â Â Â Â <div class="card-top border border-green-500/30"><p class="text-[9px] text-gray-400 uppercase">Sisa</p><p id="balance" class="text-green-500 font-bold">Rp 0</p></div>
Â Â Â Â </div>

Â Â Â Â <div class="space-y-6">
Â Â Â Â Â Â Â Â <div class="glass p-6 rounded-3xl">
Â Â Â Â Â Â Â Â Â Â Â Â <h3 class="text-xs font-bold mb-4 uppercase tracking-tighter">ğŸ›¡ï¸ Dana Darurat (Simpan di RDPU)</h3>
Â Â Â Â Â Â Â Â Â Â Â Â <div class="w-full bg-white/10 h-2 rounded-full mb-2"><div id="efBar" class="bg-blue-500 h-2 rounded-full" style="width: 0%"></div></div>
Â Â Â Â Â Â Â Â Â Â Â Â <p id="efAlert" class="text-[9px] text-blue-300"></p>
Â Â Â Â Â Â Â Â Â Â Â Â <p class="text-[8px] text-gray-500 mt-2 italic">*Rekomendasi Ahli: Minimal 6x Pengeluaran untuk status Lajang.</p>
Â Â Â Â Â Â Â Â </div>

Â Â Â Â Â Â Â Â <div class="glass p-6 rounded-3xl">
Â Â Â Â Â Â Â Â Â Â Â Â <h3 class="text-xs font-bold mb-4 uppercase tracking-tighter text-center">Distribusi Aset</h3>
Â Â Â Â Â Â Â Â Â Â Â Â <canvas id="assetChart"></canvas>
Â Â Â Â Â Â Â Â </div>
Â Â Â Â </div>

Â Â Â Â <nav class="fixed bottom-6 left-6 right-6 glass rounded-full flex justify-around py-4 shadow-2xl">
Â Â Â Â Â Â Â Â <i class="fas fa-th-large text-blue-500"></i>
Â Â Â Â Â Â Â Â <i class="fas fa-history text-gray-500"></i>
Â Â Â Â Â Â Â Â <i class="fas fa-user-cog text-gray-500"></i>
Â Â Â Â </nav>

Â Â Â Â <script>
Â Â Â Â Â Â Â Â const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyoS033gdvg56X7Bs3nu7aWif1JcJiWd5bk6obvIUJmUnQEfer0Gu4yRefBZeGOFwKI/exec";

Â Â Â Â Â Â Â Â function loadData() {
Â Â Â Â Â Â Â Â Â Â Â Â fetch(SCRIPT_URL)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .then(res => res.json())
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .then(data => {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('balance').innerText = "Rp " + data.saldo.toLocaleString('id-ID');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('totalIn').innerText = "Rp " + data.in.toLocaleString('id-ID');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('totalOut').innerText = "Rp " + data.out.toLocaleString('id-ID');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // Logic Dana Darurat & Alert
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â const efProg = (data.ef / (data.out * 6)) * 100;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('efBar').style.width = Math.min(efProg, 100) + "%";
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('efAlert').innerText = efProg >= 100 ? "ğŸ‰ Target Dana Darurat Tercapai!" : "â³ Terkumpul " + efProg.toFixed(1) + "% dari target.";

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â renderChart(data);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â });
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â function renderChart(data) {
Â Â Â Â Â Â Â Â Â Â Â Â new Chart(document.getElementById('assetChart'), {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â type: 'doughnut',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â data: {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â labels: ['Emas', 'Reksadana', 'Cash'],
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â datasets: [{
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â data: [data.gold, data.rd, data.saldo],
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â backgroundColor: ['#f59e0b', '#10b981', '#3b82f6'],
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â borderWidth: 0
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â },
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â options: { plugins: { legend: { position: 'bottom', labels: { color: '#888', font: { size: 9 } } } } }
Â Â Â Â Â Â Â Â Â Â Â Â });
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â window.onload = loadData;
Â Â Â Â </script>
</body>
</html>

